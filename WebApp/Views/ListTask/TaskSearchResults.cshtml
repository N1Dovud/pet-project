@model TaskSearchModel

<div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="mb-0">Search Results</h2>
        <span class="badge bg-primary">
            @(Model?.Tasks?.Count ?? 0) found
        </span>
    </div>

    <div class="search-results-container">
        @if (Model != null && Model?.Tasks?.Count > 0)
        {
            <div class="alert alert-info mb-4">
                <strong>Found @Model.Tasks.Count task@(Model.Tasks.Count == 1 ? "" : "s")</strong> matching your search criteria.
            </div>

            @foreach (var task in Model.Tasks)
            {
                @await Html.PartialAsync("Partials/Task/_TaskSummaryCard", new TaskCardModel
                {
                    HighlightOverdues = true,
                IsOwner = true,
                ReturnUrl = Model.ReturnUrl,
                TaskSummary = task,
                })
            }
        }
        else
        {
            <div class="text-center text-muted py-5">
                <div class="mb-3">
                    <i class="fs-1">üîç</i>
                </div>
                <h4 class="mb-2">No results found</h4>
                <p class="mb-3">Nothing matched your search criteria. Try adjusting your search terms.</p>
                <a href="/" class="btn btn-outline-primary">
                    <i class="me-1">‚Üê</i> Go Back to Search
                </a>
            </div>
        }
    </div>
</div>